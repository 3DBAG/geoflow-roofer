<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="API Reference C++" href="api_cpp.html" /><link rel="prev" title="Requirements on the input data" href="data_requirements.html" />

    <!-- Generated with Sphinx 8.0.2 and Furo 2024.08.06 -->
        <title>Roofer CLI App - roofer documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-announcement-background: var(--color-problematic);
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-announcement-background: var(--color-problematic);
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-announcement-background: var(--color-problematic);
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">roofer  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">roofer  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="reconstruct_params.html">Reconstruction algorithm and parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_requirements.html">Requirements on the input data</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Roofer CLI App</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_cpp.html">API Reference C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_py.html">API Reference Python</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/3DBAG/roofer/blob/develop/docs/cli_application.rst?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/3DBAG/roofer/edit/develop/docs/cli_application.rst" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="roofer-cli-app">
<h1>Roofer CLI App<a class="headerlink" href="#roofer-cli-app" title="Link to this heading">¶</a></h1>
<p><strong class="program">roofer</strong> is a command line application for generating LoD1.2, LoD1.3 and LoD2 building models from pointclouds.</p>
<p>With the <strong class="program">roofer</strong> CLI application you can:</p>
<ul class="simple">
<li><p>Generate of 3D building models for very large areas with a reasonably small memory footprint. This is achieved by processing the input data in square tiles. No pre-tiling is needed.</p></li>
<li><p>Benefit from multi-threading for faster processing.</p></li>
<li><p>Read common vector input sources and filter them based on attributes or spatial extent. This means you do not need to crop the input data beforehand if it is already in a supported format.</p></li>
<li><p>Obtain detailed information per building object about the reconstruction process and the quality of the generated models and the input point cloud.</p></li>
</ul>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Link to this heading">¶</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>roofer [options] &lt;pointcloud-path&gt;... &lt;polygon-source&gt; &lt;output-directory&gt;
roofer [options] (-c | --config) &lt;config-file&gt;
                [(&lt;pointcloud-path&gt;... &lt;polygon-source&gt;)] [&lt;output-directory&gt;]
roofer -h | --help
roofer -v | --version
</pre></div>
</div>
<section id="options">
<h3>Options<a class="headerlink" href="#options" title="Link to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-pointcloud-path">
<span class="sig-name descname"><span class="pre">&lt;pointcloud-path&gt;</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-pointcloud-path" title="Link to this definition">¶</a></dt>
<dd><p>Path to pointcloud file (.LAS or .LAZ) or folder that contains pointcloud files.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-polygon-source">
<span class="sig-name descname"><span class="pre">&lt;polygon-source&gt;</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-polygon-source" title="Link to this definition">¶</a></dt>
<dd><p>Path to roofprint polygon source. Can be an OGR supported file (eg. GPKG) or database connection string.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-output-directory">
<span class="sig-name descname"><span class="pre">&lt;output-directory&gt;</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-output-directory" title="Link to this definition">¶</a></dt>
<dd><p>Output directory. The building models will be written to a CityJSONSequence file in this directory.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-h">
<span id="cmdoption-help"></span><span class="sig-name descname"><span class="pre">-h</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-h" title="Link to this definition">¶</a></dt>
<dd><p>Show help message.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-v">
<span id="cmdoption-version"></span><span class="sig-name descname"><span class="pre">-v</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--version</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-v" title="Link to this definition">¶</a></dt>
<dd><p>Show version.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-l">
<span id="cmdoption-loglevel"></span><span class="sig-name descname"><span class="pre">-l</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--loglevel</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;level&gt;</span></span><a class="headerlink" href="#cmdoption-l" title="Link to this definition">¶</a></dt>
<dd><p>Specify loglevel. Can be trace, debug, info, warning [default: info]</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-trace-interval">
<span class="sig-name descname"><span class="pre">--trace-interval</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;s&gt;</span></span><a class="headerlink" href="#cmdoption-trace-interval" title="Link to this definition">¶</a></dt>
<dd><p>Trace interval in seconds. Implies <a class="reference internal" href="#cmdoption-l"><code class="xref std std-option docutils literal notranslate"><span class="pre">--loglevel</span></code></a> trace [default: 10].</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-c">
<span id="cmdoption-config"></span><span class="sig-name descname"><span class="pre">-c</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;file&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--config</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;file&gt;</span></span><a class="headerlink" href="#cmdoption-c" title="Link to this definition">¶</a></dt>
<dd><p>TOML configuration file.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-j">
<span id="cmdoption-jobs"></span><span class="sig-name descname"><span class="pre">-j</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;n&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--jobs</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;n&gt;</span></span><a class="headerlink" href="#cmdoption-j" title="Link to this definition">¶</a></dt>
<dd><p>Number of threads to use. [default: number of cores]</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-crop-output">
<span class="sig-name descname"><span class="pre">--crop-output</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-crop-output" title="Link to this definition">¶</a></dt>
<dd><p>Output cropped building pointclouds.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-crop-output-all">
<span class="sig-name descname"><span class="pre">--crop-output-all</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-crop-output-all" title="Link to this definition">¶</a></dt>
<dd><p>Output files for each candidate pointcloud instead of only the optimal candidate. Implies <a class="reference internal" href="#cmdoption-crop-output"><code class="xref std std-option docutils literal notranslate"><span class="pre">--crop-output</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-crop-rasters">
<span class="sig-name descname"><span class="pre">--crop-rasters</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-crop-rasters" title="Link to this definition">¶</a></dt>
<dd><p>Output rasterised crop pointclouds. Implies <a class="reference internal" href="#cmdoption-crop-output"><code class="xref std std-option docutils literal notranslate"><span class="pre">--crop-output</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-index">
<span class="sig-name descname"><span class="pre">--index</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-index" title="Link to this definition">¶</a></dt>
<dd><p>Output index.gpkg file with crop analytics.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-split-cjseq">
<span class="sig-name descname"><span class="pre">--split-cjseq</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-split-cjseq" title="Link to this definition">¶</a></dt>
<dd><p>Output CityJSONSequence file for each building [default: one file per output tile]</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-cj-translate">
<span class="sig-name descname"><span class="pre">--cj-translate</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-cj-translate" title="Link to this definition">¶</a></dt>
<dd><p>Specify manually the translation applied to CityJSON output vertices</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-cj-scale">
<span class="sig-name descname"><span class="pre">--cj-scale</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-cj-scale" title="Link to this definition">¶</a></dt>
<dd><p>Specify manually the scaling applied to CityJSON output vertices</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-omit-metadata">
<span class="sig-name descname"><span class="pre">--omit-metadata</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-omit-metadata" title="Link to this definition">¶</a></dt>
<dd><p>Omit metadata from output CityJSON</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-filter">
<span class="sig-name descname"><span class="pre">--filter</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;str&gt;</span></span><a class="headerlink" href="#cmdoption-filter" title="Link to this definition">¶</a></dt>
<dd><p>Specify WHERE clause in OGR SQL to select specfic features from &lt;polygon-source&gt;</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-polygon-source-layer">
<span class="sig-name descname"><span class="pre">--polygon-source-layer</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;str&gt;</span></span><a class="headerlink" href="#cmdoption-polygon-source-layer" title="Link to this definition">¶</a></dt>
<dd><p>Load this layer from &lt;polygon-source&gt; [default: first layer]</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-force-lod11-attribute">
<span class="sig-name descname"><span class="pre">--force-lod11-attribute</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;str&gt;</span></span><a class="headerlink" href="#cmdoption-force-lod11-attribute" title="Link to this definition">¶</a></dt>
<dd><p>Building attribute for forcing lod11.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-srs">
<span class="sig-name descname"><span class="pre">--srs</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;str&gt;</span></span><a class="headerlink" href="#cmdoption-srs" title="Link to this definition">¶</a></dt>
<dd><p>Override SRS for both inputs and outputs</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-box">
<span class="sig-name descname"><span class="pre">--box</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;xmin</span> <span class="pre">ymin</span> <span class="pre">xmax</span> <span class="pre">ymax&gt;</span></span><a class="headerlink" href="#cmdoption-box" title="Link to this definition">¶</a></dt>
<dd><p>Region of interest. Data outside of this region will be ignored</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceil_point_density">
<span class="sig-name descname"><span class="pre">--ceil_point_density</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;float&gt;</span></span><a class="headerlink" href="#cmdoption-ceil_point_density" title="Link to this definition">¶</a></dt>
<dd><p>Enfore this point density ceiling on each building pointcloud.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-tilesize">
<span class="sig-name descname"><span class="pre">--tilesize</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;x</span> <span class="pre">y&gt;</span></span><a class="headerlink" href="#cmdoption-tilesize" title="Link to this definition">¶</a></dt>
<dd><p>Tilesize used for output tiles</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-cellsize">
<span class="sig-name descname"><span class="pre">--cellsize</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;float&gt;</span></span><a class="headerlink" href="#cmdoption-cellsize" title="Link to this definition">¶</a></dt>
<dd><p>Cellsize used for quick pointcloud analysis</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-id-attribute">
<span class="sig-name descname"><span class="pre">--id-attribute</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;str&gt;</span></span><a class="headerlink" href="#cmdoption-id-attribute" title="Link to this definition">¶</a></dt>
<dd><p>Building ID attribute</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-Rplane-detect-epsilon">
<span class="sig-name descname"><span class="pre">-Rplane-detect-epsilon</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;float&gt;</span></span><a class="headerlink" href="#cmdoption-Rplane-detect-epsilon" title="Link to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="api_cpp.html#_CPPv4N6roofer20ReconstructionConfig20plane_detect_epsilonE" title="roofer::ReconstructionConfig::plane_detect_epsilon"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">roofer::ReconstructionConfig::plane_detect_epsilon</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-Rplane-detect-k">
<span class="sig-name descname"><span class="pre">-Rplane-detect-k</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;int&gt;</span></span><a class="headerlink" href="#cmdoption-Rplane-detect-k" title="Link to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="api_cpp.html#_CPPv4N6roofer20ReconstructionConfig14plane_detect_kE" title="roofer::ReconstructionConfig::plane_detect_k"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">roofer::ReconstructionConfig::plane_detect_k</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-Rplane-detect-min-points">
<span class="sig-name descname"><span class="pre">-Rplane-detect-min-points</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;int&gt;</span></span><a class="headerlink" href="#cmdoption-Rplane-detect-min-points" title="Link to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="api_cpp.html#_CPPv4N6roofer20ReconstructionConfig23plane_detect_min_pointsE" title="roofer::ReconstructionConfig::plane_detect_min_points"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">roofer::ReconstructionConfig::plane_detect_min_points</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-Rlod13-step-height">
<span class="sig-name descname"><span class="pre">-Rlod13-step-height</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;float&gt;</span></span><a class="headerlink" href="#cmdoption-Rlod13-step-height" title="Link to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="api_cpp.html#_CPPv4N6roofer20ReconstructionConfig17lod13_step_heightE" title="roofer::ReconstructionConfig::lod13_step_height"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">roofer::ReconstructionConfig::lod13_step_height</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-Rcomplexity-factor">
<span class="sig-name descname"><span class="pre">-Rcomplexity-factor</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;float&gt;</span></span><a class="headerlink" href="#cmdoption-Rcomplexity-factor" title="Link to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="api_cpp.html#_CPPv4N6roofer20ReconstructionConfig17complexity_factorE" title="roofer::ReconstructionConfig::complexity_factor"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">roofer::ReconstructionConfig::complexity_factor</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-Rlod">
<span class="sig-name descname"><span class="pre">-Rlod</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;int&gt;</span></span><a class="headerlink" href="#cmdoption-Rlod" title="Link to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="api_cpp.html#_CPPv4N6roofer20ReconstructionConfig3lodE" title="roofer::ReconstructionConfig::lod"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">roofer::ReconstructionConfig::lod</span></code></a>. Default is to reconstruct all LoDs.</p>
</dd></dl>

</section>
</section>
<section id="output-format">
<h2>Output format<a class="headerlink" href="#output-format" title="Link to this heading">¶</a></h2>
<p>The output of the <strong class="program">roofer</strong> CLI application are <a class="reference external" href="https://www.cityjson.org/cityjsonseq/">CityJSONSequence</a> files. These are a JSON Lines files that contain a sequence of CityJSON features, each feature represents all the information for one building.</p>
</section>
<section id="example-config-file">
<h2>Example config file<a class="headerlink" href="#example-config-file" title="Link to this heading">¶</a></h2>
<p>Below is an example of a <a class="reference external" href="https://toml.io/en/">TOML</a> configuration file for the <strong class="program">roofer</strong> CLI application. It shows all the available options. Noticed that many of these options are also available as command line arguments, incase one option is provided both in the configuration file and as a command line argument, the command line argument takes precedence.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Vector source with polygon roofprints. Any OGR supported format is supported.</span>
<span class="n">polygon</span><span class="o">-</span><span class="n">source</span> <span class="o">=</span> <span class="s2">&quot;data/roofprints.gpkg&quot;</span>
<span class="c1"># Load this layer from &lt;polygon-source&gt; [default: first layer]</span>
<span class="n">polygon</span><span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">layer</span> <span class="o">=</span> <span class="s2">&quot;SomeLayer&quot;</span>
<span class="c1"># Building ID attribute</span>
<span class="nb">id</span><span class="o">-</span><span class="n">attribute</span> <span class="o">=</span> <span class="s2">&quot;id_attribute&quot;</span>
<span class="c1"># Boolean building attribute for forcing LoD 1.1 (simple roofprint extrustion) and skipping reconstruction in a higher LoD for this building.</span>
<span class="n">force</span><span class="o">-</span><span class="n">lod11</span><span class="o">-</span><span class="n">attribute</span> <span class="o">=</span> <span class="s2">&quot;SomeAttribute&quot;</span>
<span class="c1"># Specify WHERE clause in OGR SQL to select specfic features from &lt;polygon-source&gt;</span>
<span class="nb">filter</span> <span class="o">=</span> <span class="s2">&quot;id_attribute=&#39;SomeID&#39;&quot;</span>


<span class="c1"># Override SRS for both inputs and outputs</span>
<span class="n">srs</span> <span class="o">=</span> <span class="s2">&quot;EPSG:7415&quot;</span>
<span class="c1"># Region of interest. Data outside of this region will be ignored. Format: [x_min, y_min, x_max, y_max].</span>
<span class="n">box</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1000</span><span class="p">,</span><span class="mi">1000</span><span class="p">]</span>
<span class="c1"># Enfore this point density ceiling on each building pointcloud.</span>
<span class="n">ceil</span><span class="o">-</span><span class="n">point</span><span class="o">-</span><span class="n">density</span> <span class="o">=</span> <span class="mi">20</span>
<span class="c1"># Tilesize used for output tiles. Format: [size_x, size_y].</span>
<span class="n">tilesize</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">]</span>
<span class="c1"># Cellsize used for quick pointcloud analysis</span>
<span class="n">cellsize</span> <span class="o">=</span> <span class="mf">0.5</span>

<span class="c1">## Reconstruction options</span>
<span class="c1"># Plane detect epsilon</span>
<span class="n">plane</span><span class="o">-</span><span class="n">detect</span><span class="o">-</span><span class="n">epsilon</span> <span class="o">=</span> <span class="mf">0.3</span>
<span class="c1"># Plane detect k</span>
<span class="n">plane</span><span class="o">-</span><span class="n">detect</span><span class="o">-</span><span class="n">k</span> <span class="o">=</span> <span class="mi">15</span>
<span class="c1"># Plane detect min points</span>
<span class="n">plane</span><span class="o">-</span><span class="n">detect</span><span class="o">-</span><span class="nb">min</span><span class="o">-</span><span class="n">points</span> <span class="o">=</span> <span class="mi">15</span>
<span class="c1"># Step height used for LoD1.3 generation</span>
<span class="n">lod13</span><span class="o">-</span><span class="n">step</span><span class="o">-</span><span class="n">height</span> <span class="o">=</span> <span class="mi">3</span>
<span class="c1"># Complexity factor building reconstruction</span>
<span class="n">complexity</span><span class="o">-</span><span class="n">factor</span> <span class="o">=</span> <span class="mf">0.7</span>
<span class="c1"># Which LoDs to generate, possible values: 12, 13, 22 [if omitted: all LoDs are generated]</span>
<span class="n">lod</span> <span class="o">=</span> <span class="mi">22</span>

<span class="c1">## Output options</span>
<span class="c1"># Output CityJSONSequence file for each building [default: one file per output tile]</span>
<span class="n">split</span><span class="o">-</span><span class="n">cjseq</span> <span class="o">=</span> <span class="n">false</span>
<span class="c1"># Omit metadata from output CityJSON</span>
<span class="n">omit</span><span class="o">-</span><span class="n">metadata</span> <span class="o">=</span> <span class="n">true</span>
<span class="c1"># Manually override CityJSON transform translation</span>
<span class="n">cj</span><span class="o">-</span><span class="n">translate</span> <span class="o">=</span> <span class="p">[</span><span class="mf">171800.0</span><span class="p">,</span><span class="mf">472700.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">]</span>
<span class="c1"># Manually override CityJSON transform scale</span>
<span class="n">cj</span><span class="o">-</span><span class="n">scale</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.01</span><span class="p">,</span><span class="mf">0.01</span><span class="p">,</span><span class="mf">0.01</span><span class="p">]</span>

<span class="n">output</span><span class="o">-</span><span class="n">directory</span> <span class="o">=</span> <span class="s1">&#39;output-directory&#39;</span>

<span class="p">[[</span><span class="n">pointclouds</span><span class="p">]]</span>
<span class="c1"># name of the pointcloud</span>
<span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;AHN3&quot;</span>
<span class="c1"># source can be a list of files and/or directories with pointcloud files. If a directory is given</span>
<span class="c1"># roofer recursively looks for files with the extensions `.laz`, `.las`, `.LAZ`, and `.LAS`.</span>
<span class="n">source</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;data/AHN3-pointcloud.laz&quot;</span><span class="p">]</span>

<span class="p">[</span><span class="n">output</span><span class="o">-</span><span class="n">attributes</span><span class="p">]</span>
<span class="c1"># Rename the attributes that are added to the output by roofer. Shown are the default names (prefix: `rf_`)</span>
<span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;rf_status&quot;</span>
<span class="n">reconstruction_time</span> <span class="o">=</span> <span class="s2">&quot;rf_reconstruction_time&quot;</span>
<span class="n">val3dity_lod12</span> <span class="o">=</span> <span class="s2">&quot;rf_val3dity_lod12&quot;</span>
<span class="n">val3dity_lod13</span> <span class="o">=</span> <span class="s2">&quot;rf_val3dity_lod13&quot;</span>
<span class="n">val3dity_lod22</span> <span class="o">=</span> <span class="s2">&quot;rf_val3dity_lod22&quot;</span>
<span class="n">is_glass_roof</span> <span class="o">=</span> <span class="s2">&quot;rf_is_glass_roof&quot;</span>
<span class="n">nodata_frac</span> <span class="o">=</span> <span class="s2">&quot;rf_nodata_frac&quot;</span>
<span class="n">nodata_r</span> <span class="o">=</span> <span class="s2">&quot;rf_nodata_r&quot;</span>
<span class="n">pt_density</span> <span class="o">=</span> <span class="s2">&quot;rf_pt_density&quot;</span>
<span class="n">is_mutated</span> <span class="o">=</span> <span class="s2">&quot;rf_is_mutated&quot;</span>
<span class="n">pc_select</span> <span class="o">=</span> <span class="s2">&quot;rf_pc_select&quot;</span>
<span class="n">pc_source</span> <span class="o">=</span> <span class="s2">&quot;rf_pc_source&quot;</span>
<span class="n">pc_year</span> <span class="o">=</span> <span class="s2">&quot;rf_pc_year&quot;</span>
<span class="n">force_lod11</span> <span class="o">=</span> <span class="s2">&quot;rf_force_lod11&quot;</span>
<span class="n">roof_type</span> <span class="o">=</span> <span class="s2">&quot;rf_roof_type&quot;</span>
<span class="n">h_roof_50p</span> <span class="o">=</span> <span class="s2">&quot;rf_roof_elevation_50p&quot;</span>
<span class="n">h_roof_70p</span> <span class="o">=</span> <span class="s2">&quot;rf_roof_elevation_70p&quot;</span>
<span class="n">h_roof_min</span> <span class="o">=</span> <span class="s2">&quot;rf_roof_elevation_min&quot;</span>
<span class="n">h_roof_max</span> <span class="o">=</span> <span class="s2">&quot;rf_roof_elevation_max&quot;</span>
<span class="n">roof_n_planes</span> <span class="o">=</span> <span class="s2">&quot;rf_roof_n_planes&quot;</span>
<span class="n">rmse_lod12</span> <span class="o">=</span> <span class="s2">&quot;rf_rmse_lod12&quot;</span>
<span class="n">rmse_lod13</span> <span class="o">=</span> <span class="s2">&quot;rf_rmse_lod13&quot;</span>
<span class="n">rmse_lod22</span> <span class="o">=</span> <span class="s2">&quot;rf_rmse_lod22&quot;</span>
<span class="n">h_ground</span> <span class="o">=</span> <span class="s2">&quot;rf_h_ground&quot;</span>
<span class="n">slope</span> <span class="o">=</span> <span class="s2">&quot;rf_slope&quot;</span>
<span class="n">azimuth</span> <span class="o">=</span> <span class="s2">&quot;rf_azimuth&quot;</span>
</pre></div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="api_cpp.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">API Reference C++</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="data_requirements.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Requirements on the input data</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024 Ravi Peters, Balazs Dukai and TU Delft 3D geoinformation group
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/3DBAG/roofer" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Roofer CLI App</a><ul>
<li><a class="reference internal" href="#usage">Usage</a><ul>
<li><a class="reference internal" href="#options">Options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#output-format">Output format</a></li>
<li><a class="reference internal" href="#example-config-file">Example config file</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=5fa4622c"></script>
    </body>
</html>